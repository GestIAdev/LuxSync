# ğŸ”Œ WAVE 1211: THE DMX NEXUS - BLUEPRINT DE REDISEÃ‘O TOTAL

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—    â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•    â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•
â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ•”â•     â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—   â•šâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•”â–ˆâ–ˆâ•—     â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•   â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â•šâ•â•â•â•â–ˆâ–ˆâ•‘
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘ â•šâ•â• â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•—    â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•—â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘
â•šâ•â•â•â•â•â• â•šâ•â•     â•šâ•â•â•šâ•â•  â•šâ•â•    â•šâ•â•  â•šâ•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â• â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â•
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

**DE:** PunkOpus (Frontend/UX Architect)  
**PARA:** Radwulf & El Arquitecto  
**FECHA:** 6 de Febrero de 2026  
**ESTADO:** BLUEPRINT PARA EVALUACIÃ“N  

---

## ğŸ“– ÃNDICE

1. [VisiÃ³n & FilosofÃ­a](#1--visiÃ³n--filosofÃ­a)
2. [DiagnÃ³stico del Sistema Actual](#2--diagnÃ³stico-del-sistema-actual)
3. [Arquitectura Propuesta](#3--arquitectura-propuesta)
4. [Layout & DiseÃ±o Visual](#4--layout--diseÃ±o-visual)
5. [Componentes Principales](#5--componentes-principales)
6. [Sistema de Estilos CSS](#6--sistema-de-estilos-css)
7. [LÃ³gica de Negocio](#7--lÃ³gica-de-negocio)
8. [IntegraciÃ³n HAL](#8--integraciÃ³n-hal)
9. [Plan de ImplementaciÃ³n](#9--plan-de-implementaciÃ³n)

---

## 1. ğŸ¯ VISIÃ“N & FILOSOFÃA

### El Problema Fundamental

El patcheo DMX tradicional es una **tarea de lista**: abres una tabla, escribes nÃºmeros, rezas para no pisar canales. Es **administrativo**, **aburrido** y **propenso a errores**.

### La TransformaciÃ³n Radical

**THE DMX NEXUS** convierte el patcheo en una **operaciÃ³n tÃ¡ctica espacial**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                      â”‚
â”‚    ANTES: "Fixture 3 estÃ¡ en canal 45... creo"                       â”‚
â”‚                                                                      â”‚
â”‚    AHORA: *Click en el mapa* â†’ *Flash fÃ­sico* â†’ "Confirmado,         â”‚
â”‚           es el de la izquierda" â†’ *Assign canal 45*                 â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Mantra de DiseÃ±o

```
"SELECT VISUAL â†’ CONFIRM PHYSICAL â†’ ASSIGN DIGITAL"
```

**Tres pasos. Cero errores. MÃ¡xima confianza.**

---

## 2. ğŸ” DIAGNÃ“STICO DEL SISTEMA ACTUAL

### âœ… Lo Que Funciona

| Elemento | Estado | Notas |
|----------|--------|-------|
| Renderizado Canvas | âœ… OK | Funcional pero bÃ¡sico |
| SelecciÃ³n por click | âœ… OK | Single-select operativo |
| DetecciÃ³n colisiones | âœ… OK | LÃ³gica correcta |
| Zoom bÃ¡sico | âœ… OK | Funcional |

### âŒ Lo Que Falta (Y Es CrÃ­tico)

| Carencia | Impacto | Prioridad |
|----------|---------|-----------|
| **Multi-selecciÃ³n** | No puedes parchear 8 focos en batch (1, 11, 21...) | ğŸ”´ CRÃTICO |
| **Universe Bar** | No ves dÃ³nde hay "huecos" libres | ğŸ”´ CRÃTICO |
| **Flash/Locate REAL** | Solo console.log, no HAL injection | ğŸ”´ CRÃTICO |
| **Profile Swap** | No puedes cambiar de 10ch a 14ch mode | ğŸŸ¡ ALTO |
| **Tooltips** | Sin feedback visual en hover | ğŸŸ¡ ALTO |
| **Consistencia CSS** | Estilos inline, no usa Design System | ğŸŸ¡ ALTO |
| **Drag & Drop** | No puedes mover fixtures en el mapa | ğŸŸ¢ MEDIO |
| **Keyboard shortcuts** | Nada de teclas rÃ¡pidas | ğŸŸ¢ MEDIO |

### ğŸ’€ Deuda TÃ©cnica Detectada

```tsx
// PROBLEMA 1: Estilos inline mezclados con lÃ³gica
const s = {
  container: { display: 'flex', width: '100%', ... } // ğŸ‘ No reutilizable
}

// PROBLEMA 2: Magic numbers everywhere
const size = 10 * zoom;  // Â¿QuÃ© es 10? Â¿De dÃ³nde sale?

// PROBLEMA 3: Mock de DMX
// sendDmxFrame({ [selectedFixture.address]: 255 }); // Comentado = inexistente
```

---

## 3. ğŸ—ï¸ ARQUITECTURA PROPUESTA

### Estructura de Archivos

```
electron-app/src/components/views/VisualPatcher/
â”œâ”€â”€ VisualPatcher.tsx           # Componente principal (orquestador)
â”œâ”€â”€ VisualPatcher.css           # Estilos completos (nuevo)
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ StageMap/
â”‚   â”‚   â”œâ”€â”€ StageMap.tsx        # Canvas interactivo
â”‚   â”‚   â”œâ”€â”€ StageMap.css
â”‚   â”‚   â”œâ”€â”€ FixtureRenderer.ts  # LÃ³gica de renderizado por tipo
â”‚   â”‚   â””â”€â”€ HitDetection.ts     # Algoritmos de click/hover
â”‚   â”œâ”€â”€ InspectorPanel/
â”‚   â”‚   â”œâ”€â”€ InspectorPanel.tsx  # Panel derecho completo
â”‚   â”‚   â”œâ”€â”€ InspectorPanel.css
â”‚   â”‚   â”œâ”€â”€ IdentityCard.tsx    # Nombre, icono, ID
â”‚   â”‚   â”œâ”€â”€ DMXMatrixInput.tsx  # Universe + Address + Profile
â”‚   â”‚   â””â”€â”€ ActionButtons.tsx   # Flash, Test, Clear
â”‚   â””â”€â”€ UniverseBar/
â”‚       â”œâ”€â”€ UniverseBar.tsx     # Barra de ocupaciÃ³n 512ch
â”‚       â””â”€â”€ UniverseBar.css
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useSelectionManager.ts  # Multi-select, shift-click, ctrl-click
â”‚   â”œâ”€â”€ useCollisionEngine.ts   # DetecciÃ³n de colisiones en tiempo real
â”‚   â”œâ”€â”€ useDMXInjector.ts       # Flash/Locate via HAL
â”‚   â””â”€â”€ useCanvasInteraction.ts # Pan, zoom, drag
â””â”€â”€ constants/
    â”œâ”€â”€ fixtureShapes.ts        # Definiciones de formas por tipo
    â””â”€â”€ patcherConfig.ts        # TamaÃ±os, colores, thresholds
```

### Flujo de Datos

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ StageStore  â”‚â”€â”€â”€â–¶â”‚ VisualPatcherâ”‚â”€â”€â”€â–¶â”‚  StageMap   â”‚
â”‚ (fixtures)  â”‚    â”‚ (orquestador)â”‚    â”‚  (canvas)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                â–¼                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ InspectorPanelâ”‚ â”‚ UniverseBar â”‚ â”‚ HAL/DMXOutput â”‚
â”‚ (ediciÃ³n)     â”‚ â”‚ (visual)    â”‚ â”‚ (flash real)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. ğŸ“ LAYOUT & DISEÃ‘O VISUAL

### Wireframe ASCII Definitivo

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”Œ THE DMX NEXUS                              [Show: UNTITLED*] [ğŸ’¾ SAVE]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                           â”‚                                 â”‚
â”‚           S T A G E   M A P               â”‚       I N S P E C T O R         â”‚
â”‚              (70% width)                  â”‚         (30% width)             â”‚
â”‚                                           â”‚                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚        [ BACK TRUSS ]           â”‚     â”‚  â”‚  â–¼ SELECTED UNIT          â”‚  â”‚
â”‚   â”‚     â–³   â–³   â–³   â–³   â–³   â–³       â”‚     â”‚  â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”   â”‚  â”‚
â”‚   â”‚    12  24  36  48  60  72       â”‚     â”‚  â”‚  ğŸ”¦ Beam 7R #3            â”‚  â”‚
â”‚   â”‚                                 â”‚     â”‚  â”‚  ID: fix_b3_left          â”‚  â”‚
â”‚   â”‚        [ MID TRUSS ]            â”‚     â”‚  â”‚  Type: moving-head        â”‚  â”‚
â”‚   â”‚     â—‰   â—‰   â—‰   â—‰               â”‚     â”‚  â”‚  Zone: Back Left          â”‚  â”‚
â”‚   â”‚    84  96 108 120               â”‚     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚   â”‚                                 â”‚     â”‚                                 â”‚
â”‚   â”‚        [ FRONT TRUSS ]          â”‚     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚     â—   â—   â—   â—   â—           â”‚     â”‚  â”‚  â–¼ DMX ADDRESSING         â”‚  â”‚
â”‚   â”‚        ğŸŸ¢                       â”‚     â”‚  â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”   â”‚  â”‚
â”‚   â”‚       /â”‚\  â† SELECTED           â”‚     â”‚  â”‚                           â”‚  â”‚
â”‚   â”‚                                 â”‚     â”‚  â”‚  UNIVERSE    ADDRESS      â”‚  â”‚
â”‚   â”‚   [ FLOOR / FX ]                â”‚     â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”     â”‚  â”‚
â”‚   â”‚     â—‡   â—‡   â—‡   â—‡               â”‚     â”‚  â”‚  â”‚  1  â”‚    â”‚  033  â”‚     â”‚  â”‚
â”‚   â”‚    132 144 156 168              â”‚     â”‚  â”‚  â””â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”‚                           â”‚  â”‚
â”‚                                           â”‚  â”‚  PROFILE                  â”‚  â”‚
â”‚   â”Œâ”€ LEGEND â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚   â”‚ â—‹ Unpatched  â— Patched            â”‚   â”‚  â”‚  â”‚ 14ch Extended Mode â–¼â”‚  â”‚  â”‚
â”‚   â”‚ ğŸ”´ Collision ğŸŸ¢ Selected          â”‚   â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚   â”‚ â–³ Moving Head â—‰ Wash â—‡ Strobe     â”‚   â”‚  â”‚                           â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚  âš ï¸ COLLISION DETECTED   â”‚  â”‚
â”‚                                           â”‚  â”‚  Overlaps with Spot #4    â”‚  â”‚
â”‚   [âˆ’] [+] ZOOM: 120%        [âŸ²] RESET     â”‚  â”‚  Channels 35-45           â”‚  â”‚
â”‚                                           â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                           â”‚                                 â”‚
â”‚                                           â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                                           â”‚  â”‚  â–¼ ACTIONS                â”‚  â”‚
â”‚                                           â”‚  â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”   â”‚  â”‚
â”‚                                           â”‚  â”‚                           â”‚  â”‚
â”‚                                           â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚                                           â”‚  â”‚  â”‚  âš¡ LOCATE / FLASH  â”‚  â”‚  â”‚
â”‚                                           â”‚  â”‚  â”‚   (Hold to Strobe)  â”‚  â”‚  â”‚
â”‚                                           â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚                                           â”‚  â”‚                           â”‚  â”‚
â”‚                                           â”‚  â”‚  [ğŸ§ª TEST ALL CH] [ğŸ—‘ï¸]   â”‚  â”‚
â”‚                                           â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â–¼ UNIVERSE 1 ALLOCATION                                          [1â–¼][2][3]â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚
â”‚  [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] â”‚
â”‚   1    32    64    96   128   160   192   224   256   288   320...     512  â”‚
â”‚   â–²         â–²                â–²                                              â”‚
â”‚  Beam     Wash            Strobe          [ FREE: 387 channels ]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Proporciones Exactas

| Zona | Porcentaje | Min Width | Max Width |
|------|------------|-----------|-----------|
| Stage Map | 70% | 600px | âˆ |
| Inspector | 30% | 320px | 400px |
| Universe Bar | 100% | - | 80px height |
| Toolbar | 100% | - | 52px height |

---

## 5. ğŸ§© COMPONENTES PRINCIPALES

### A. STAGE MAP (Canvas Interactivo)

#### EspecificaciÃ³n Visual

```tsx
interface StageMapConfig {
  // Grid
  gridSize: 50,           // Pixels entre lÃ­neas (a zoom 1.0)
  gridColor: 'rgba(34, 211, 238, 0.05)',  // Cyan muy sutil
  gridColorMajor: 'rgba(34, 211, 238, 0.1)',  // Cada 4 lÃ­neas
  
  // Fixtures
  fixtureBaseSize: 12,    // TamaÃ±o base en pixels
  
  // Selection
  selectionGlow: 'rgba(34, 211, 238, 0.6)',
  selectionGlowRadius: 20,
  
  // Collision
  collisionColor: '#ef4444',
  collisionPulseSpeed: 800,  // ms para un ciclo completo
}
```

#### Formas por Tipo de Fixture

```tsx
const FIXTURE_SHAPES: Record<FixtureType, ShapeDefinition> = {
  'moving-head': {
    shape: 'triangle',
    icon: 'â–³',
    rotatable: true,   // Indica orientaciÃ³n pan/tilt
  },
  'wash': {
    shape: 'circle',
    icon: 'â—‰',
    filled: true,
  },
  'par': {
    shape: 'circle',
    icon: 'â—‹',
    filled: false,
  },
  'spot': {
    shape: 'hexagon',
    icon: 'â¬¡',
    filled: true,
  },
  'strobe': {
    shape: 'diamond',
    icon: 'â—‡',
    filled: false,
    pulsing: true,   // Efecto visual de "strobe"
  },
  'laser': {
    shape: 'rectangle-thin',
    icon: 'â•',
    aspectRatio: 4,
  },
  'blinder': {
    shape: 'square',
    icon: 'â– ',
    filled: true,
  },
  'bar': {
    shape: 'rectangle',
    icon: 'â–¬',
    aspectRatio: 3,
  },
  'generic': {
    shape: 'circle',
    icon: 'â—',
    filled: true,
  }
}
```

#### Estados Visuales

| Estado | Border | Fill | Glow | AnimaciÃ³n |
|--------|--------|------|------|-----------|
| **Unpatched** | `#475569` | `transparent` | none | none |
| **Patched OK** | `#22d3ee` | `rgba(34, 211, 238, 0.2)` | subtle cyan | none |
| **Selected** | `#22d3ee` | `rgba(34, 211, 238, 0.4)` | strong cyan (20px) | none |
| **Collision** | `#ef4444` | `rgba(239, 68, 68, 0.3)` | red pulse | pulse 0.8s |
| **Flashing** | `#f59e0b` | `#fbbf24` | orange intense | strobe 100ms |
| **Hover** | `#94a3b8` | current + 10% opacity | subtle | scale 1.05 |

#### Interacciones

```tsx
interface MapInteractions {
  // Selection
  click: 'select-single',
  ctrlClick: 'toggle-selection',      // Multi-select
  shiftClick: 'select-range',         // Selecciona todos entre A y B
  
  // Navigation
  scroll: 'zoom',
  middleMouseDrag: 'pan',
  rightClickDrag: 'pan',
  
  // Editing
  doubleClic: 'open-quick-patch',     // Mini-modal de ediciÃ³n rÃ¡pida
  
  // Feedback
  hover: 'show-tooltip',
  hoverDelay: 300,  // ms antes de mostrar tooltip
}
```

---

### B. INSPECTOR PANEL

#### Secciones

```tsx
interface InspectorSections {
  identity: {
    name: string,
    id: string,
    type: FixtureType,
    zone: string,
    icon: ReactNode,
  },
  
  addressing: {
    universe: 1 | 2 | 3 | 4,
    address: number,  // 1-512
    profile: ChannelMode,
    channelCount: number,  // Calculado del profile
    range: [number, number],  // [start, end]
  },
  
  collision: {
    hasCollision: boolean,
    conflictsWith: Fixture[],
    overlapRange: [number, number],
  },
  
  actions: {
    flash: () => void,
    testAllChannels: () => void,
    clearPatch: () => void,
  }
}
```

#### Multi-Selection Mode

Cuando hay **mÃºltiples fixtures seleccionadas**, el Inspector cambia:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â–¼ MULTI-SELECT MODE              â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â”‚
â”‚                                   â”‚
â”‚  ğŸ¯ 4 FIXTURES SELECTED           â”‚
â”‚                                   â”‚
â”‚  Types: 3x Moving Head, 1x Wash   â”‚
â”‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  BATCH ADDRESSING           â”‚  â”‚
â”‚  â”‚                             â”‚  â”‚
â”‚  â”‚  Start: [001]  Step: [010]  â”‚  â”‚
â”‚  â”‚                             â”‚  â”‚
â”‚  â”‚  Preview:                   â”‚  â”‚
â”‚  â”‚  #1 â†’ Ch 001                â”‚  â”‚
â”‚  â”‚  #2 â†’ Ch 011                â”‚  â”‚
â”‚  â”‚  #3 â†’ Ch 021                â”‚  â”‚
â”‚  â”‚  #4 â†’ Ch 031                â”‚  â”‚
â”‚  â”‚                             â”‚  â”‚
â”‚  â”‚  [âœ“ APPLY TO ALL]           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  âš¡ FLASH ALL SELECTED    â”‚    â”‚
â”‚  â”‚     (Sequential Strobe)   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### C. UNIVERSE BAR

#### EspecificaciÃ³n

```tsx
interface UniverseBarProps {
  universe: 1 | 2 | 3 | 4,
  totalChannels: 512,
  fixtures: Fixture[],
  selectedFixture: Fixture | null,
}

interface ChannelBlock {
  start: number,
  end: number,
  fixture: Fixture,
  state: 'normal' | 'selected' | 'collision',
}
```

#### VisualizaciÃ³n

```
Channel 1                                                    Channel 512
    â–¼                                                              â–¼
    [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘]
    |â† Beam â†’|         |â† Wash Bank â†’|
    
    Colors:
    â–ˆâ–ˆâ–ˆ = Occupied (var(--accent-secondary) at 50%)
    â–‘â–‘â–‘ = Free (var(--bg-elevated))
    â–ˆâ–ˆâ–ˆ = Selected fixture (var(--accent-secondary) at 100% + glow)
    â–ˆâ–ˆâ–ˆ = Collision (var(--accent-danger) pulsing)
```

#### Interacciones

- **Hover sobre bloque**: Tooltip con nombre de fixture y rango
- **Click en bloque**: Selecciona esa fixture en el mapa
- **Click en espacio vacÃ­o**: Muestra "Free: Ch X to Y"

---

### D. âš¡ THE LOCATE BUTTON (Killer Feature)

#### Comportamiento Detallado

```tsx
interface LocateButtonBehavior {
  // Trigger
  trigger: 'mousedown',
  release: 'mouseup | mouseleave',
  
  // DMX Injection
  dmxValues: {
    dimmer: 255,
    shutter: 'open',  // O strobe lento si available
    color: {
      r: 255, g: 0, b: 255,  // MAGENTA para destacar
    },
    pan: 'center',   // Si es moving head
    tilt: 'center',
  },
  
  // Priority
  priority: 'OVERRIDE',  // Bypass total del motor de efectos
  
  // Feedback
  buttonState: {
    idle: 'Pulsing subtle animation',
    active: 'Full brightness, scale 0.98',
  },
  
  // Safety
  autoRelease: 5000,  // Max 5 segundos de flash
}
```

#### IntegraciÃ³n HAL

```tsx
// Hook: useDMXInjector.ts
interface DMXInjector {
  // Inyecta valores de alta prioridad que sobrescriben el show
  injectFlash: (fixture: Fixture, values: DMXFrame) => void,
  
  // Libera el control, vuelve al show normal
  releaseFlash: (fixture: Fixture) => void,
  
  // Estado
  isFlashing: boolean,
  flashingFixtureId: string | null,
}
```

---

## 6. ğŸ¨ SISTEMA DE ESTILOS CSS

### Variables Heredadas de `globals.css`

```css
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   VISUAL PATCHER - CSS CUSTOM PROPERTIES
   Extiende el Design System de LuxSync
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

.visual-patcher {
  /* Backgrounds - Heredados */
  --patcher-bg: var(--bg-deepest);           /* #0a0a0f */
  --patcher-surface: var(--bg-surface);       /* #1a1a24 */
  --patcher-elevated: var(--bg-elevated);     /* #222230 */
  
  /* Accent - El CYAN como protagonista */
  --patcher-accent: var(--accent-secondary);  /* #00E5FF - Cyan */
  --patcher-accent-dim: rgba(0, 229, 255, 0.3);
  --patcher-accent-glow: var(--glow-cyan);
  
  /* States */
  --patcher-success: var(--accent-success);   /* #4ADE80 */
  --patcher-warning: var(--accent-warning);   /* #FBBF24 */
  --patcher-danger: var(--accent-danger);     /* #FF4444 */
  
  /* Grid Canvas */
  --patcher-grid-line: rgba(34, 211, 238, 0.04);
  --patcher-grid-line-major: rgba(34, 211, 238, 0.08);
  
  /* Fixtures */
  --patcher-fixture-unpatched: #475569;
  --patcher-fixture-patched: var(--patcher-accent);
  --patcher-fixture-selected-fill: rgba(34, 211, 238, 0.25);
  --patcher-fixture-collision: var(--patcher-danger);
  
  /* Typography */
  --patcher-font-display: var(--font-display);  /* Orbitron */
  --patcher-font-mono: var(--font-mono);        /* JetBrains Mono */
}
```

### Estructura CSS del Componente

```css
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   VISUAL PATCHER - MAIN STYLES
   WAVE 1211: THE DMX NEXUS
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   LAYOUT PRINCIPAL
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

.visual-patcher {
  display: flex;
  flex-direction: column;
  height: 100%;
  background: var(--patcher-bg);
  overflow: hidden;
  font-family: var(--patcher-font-mono);
}

.visual-patcher__toolbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: 52px;
  min-height: 52px;
  padding: 0 var(--space-md);
  background: linear-gradient(180deg, #12121a 0%, #0d0d12 100%);
  border-bottom: 1px solid rgba(34, 211, 238, 0.15);
}

.visual-patcher__content {
  display: flex;
  flex: 1;
  min-height: 0;
  gap: var(--space-md);
  padding: var(--space-md);
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   STAGE MAP
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

.visual-patcher__map {
  flex: 7;
  min-width: 600px;
  position: relative;
  background: radial-gradient(
    circle at 50% 50%,
    rgba(26, 26, 46, 1) 0%,
    rgba(10, 10, 15, 1) 100%
  );
  border-radius: var(--radius-lg);
  border: 1px solid rgba(34, 211, 238, 0.1);
  overflow: hidden;
}

.visual-patcher__canvas {
  width: 100%;
  height: 100%;
  cursor: crosshair;
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   INSPECTOR PANEL
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

.visual-patcher__inspector {
  flex: 3;
  min-width: 320px;
  max-width: 400px;
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
  background: rgba(18, 18, 26, 0.8);
  backdrop-filter: blur(12px);
  border-radius: var(--radius-lg);
  border: 1px solid rgba(34, 211, 238, 0.15);
  padding: var(--space-md);
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   UNIVERSE BAR
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

.visual-patcher__universe-bar {
  height: 80px;
  min-height: 80px;
  background: var(--patcher-surface);
  border-radius: var(--radius-lg);
  border: 1px solid rgba(34, 211, 238, 0.1);
  margin: 0 var(--space-md) var(--space-md);
  padding: var(--space-sm) var(--space-md);
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   CARDS & SECTIONS
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

.patcher-card {
  background: rgba(255, 255, 255, 0.02);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: var(--radius-md);
  padding: var(--space-md);
}

.patcher-card__header {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  margin-bottom: var(--space-sm);
  padding-bottom: var(--space-sm);
  border-bottom: 1px solid rgba(34, 211, 238, 0.1);
}

.patcher-card__title {
  font-size: 10px;
  font-weight: 600;
  letter-spacing: 1.5px;
  text-transform: uppercase;
  color: var(--patcher-accent);
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   INPUTS
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

.patcher-input {
  background: rgba(0, 0, 0, 0.4);
  border: 1px solid rgba(71, 85, 105, 0.5);
  border-radius: var(--radius-sm);
  padding: var(--space-sm) var(--space-md);
  color: var(--text-primary);
  font-family: var(--patcher-font-mono);
  font-size: 18px;
  font-weight: 600;
  text-align: center;
  transition: all var(--transition-fast);
}

.patcher-input:focus {
  outline: none;
  border-color: var(--patcher-accent);
  box-shadow: 0 0 0 2px rgba(34, 211, 238, 0.2);
}

.patcher-input--collision {
  border-color: var(--patcher-danger);
  animation: collision-pulse 0.8s ease-in-out infinite;
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   BUTTONS
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

.patcher-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-sm);
  padding: var(--space-md) var(--space-lg);
  border: none;
  border-radius: var(--radius-md);
  font-family: var(--patcher-font-mono);
  font-size: 12px;
  font-weight: 700;
  letter-spacing: 1px;
  text-transform: uppercase;
  cursor: pointer;
  transition: all var(--transition-fast);
}

.patcher-btn--flash {
  background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
  color: #000;
  box-shadow: 0 0 20px rgba(245, 158, 11, 0.3);
}

.patcher-btn--flash:hover {
  transform: translateY(-1px);
  box-shadow: 0 0 30px rgba(245, 158, 11, 0.5);
}

.patcher-btn--flash:active,
.patcher-btn--flash.is-flashing {
  transform: scale(0.98);
  filter: brightness(1.3);
  box-shadow: 0 0 40px rgba(245, 158, 11, 0.8);
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   COLLISION WARNING
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

.patcher-collision-alert {
  display: flex;
  align-items: flex-start;
  gap: var(--space-sm);
  padding: var(--space-sm) var(--space-md);
  background: rgba(239, 68, 68, 0.1);
  border: 1px solid rgba(239, 68, 68, 0.4);
  border-radius: var(--radius-sm);
  color: #fca5a5;
  font-size: 11px;
  animation: collision-pulse 0.8s ease-in-out infinite;
}

@keyframes collision-pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.6; }
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   LEGEND
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

.patcher-legend {
  position: absolute;
  bottom: var(--space-md);
  left: var(--space-md);
  display: flex;
  flex-direction: column;
  gap: var(--space-xs);
  padding: var(--space-sm) var(--space-md);
  background: rgba(10, 10, 15, 0.9);
  backdrop-filter: blur(8px);
  border-radius: var(--radius-md);
  border: 1px solid rgba(255, 255, 255, 0.08);
  font-size: 10px;
  color: var(--text-secondary);
}

.patcher-legend__item {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   ZOOM CONTROLS
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

.patcher-zoom-controls {
  position: absolute;
  bottom: var(--space-md);
  right: var(--space-md);
  display: flex;
  align-items: center;
  gap: var(--space-xs);
  padding: var(--space-xs);
  background: rgba(10, 10, 15, 0.9);
  backdrop-filter: blur(8px);
  border-radius: var(--radius-md);
  border: 1px solid rgba(255, 255, 255, 0.08);
}

.patcher-zoom-btn {
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: transparent;
  border: none;
  border-radius: var(--radius-sm);
  color: var(--text-secondary);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.patcher-zoom-btn:hover {
  background: rgba(255, 255, 255, 0.1);
  color: var(--patcher-accent);
}

.patcher-zoom-label {
  padding: 0 var(--space-sm);
  font-size: 11px;
  font-weight: 600;
  color: var(--patcher-accent);
  min-width: 50px;
  text-align: center;
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   RESPONSIVE
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

@media (max-width: 1200px) {
  .visual-patcher__content {
    flex-direction: column;
  }
  
  .visual-patcher__map {
    min-width: 0;
    flex: 1;
  }
  
  .visual-patcher__inspector {
    max-width: none;
    min-width: 0;
    flex-direction: row;
    flex-wrap: wrap;
    max-height: 200px;
    overflow-y: auto;
  }
}
```

---

## 7. ğŸ§  LÃ“GICA DE NEGOCIO

### A. Collision Engine

```tsx
// hooks/useCollisionEngine.ts

interface CollisionResult {
  hasCollision: boolean;
  conflicts: ConflictInfo[];
}

interface ConflictInfo {
  fixtureA: Fixture;
  fixtureB: Fixture;
  overlapStart: number;
  overlapEnd: number;
  universe: number;
}

/**
 * Motor de detecciÃ³n de colisiones DMX
 * Ejecuta en tiempo real cada vez que cambia un address
 */
export function useCollisionEngine(fixtures: Fixture[]): CollisionResult {
  return useMemo(() => {
    const conflicts: ConflictInfo[] = [];
    
    // Agrupar por universo
    const byUniverse = groupBy(fixtures, f => f.universe || 1);
    
    Object.entries(byUniverse).forEach(([uni, uniFixtures]) => {
      // Comparar todos contra todos (O(nÂ²), optimizable con interval tree)
      for (let i = 0; i < uniFixtures.length; i++) {
        for (let j = i + 1; j < uniFixtures.length; j++) {
          const a = uniFixtures[i];
          const b = uniFixtures[j];
          
          const aStart = a.address;
          const aEnd = a.address + getChannelCount(a) - 1;
          const bStart = b.address;
          const bEnd = b.address + getChannelCount(b) - 1;
          
          // Detectar overlap
          if (aStart <= bEnd && aEnd >= bStart) {
            conflicts.push({
              fixtureA: a,
              fixtureB: b,
              overlapStart: Math.max(aStart, bStart),
              overlapEnd: Math.min(aEnd, bEnd),
              universe: parseInt(uni),
            });
          }
        }
      }
    });
    
    return {
      hasCollision: conflicts.length > 0,
      conflicts,
    };
  }, [fixtures]);
}
```

### B. Selection Manager

```tsx
// hooks/useSelectionManager.ts

interface SelectionState {
  selectedIds: Set<string>;
  lastSelectedId: string | null;
}

interface SelectionActions {
  selectSingle: (id: string) => void;
  toggleSelection: (id: string) => void;  // Ctrl+Click
  selectRange: (id: string) => void;       // Shift+Click
  selectAll: () => void;
  clearSelection: () => void;
}

export function useSelectionManager(fixtures: Fixture[]): [SelectionState, SelectionActions] {
  const [state, setState] = useState<SelectionState>({
    selectedIds: new Set(),
    lastSelectedId: null,
  });
  
  const actions: SelectionActions = {
    selectSingle: (id) => {
      setState({
        selectedIds: new Set([id]),
        lastSelectedId: id,
      });
    },
    
    toggleSelection: (id) => {
      setState(prev => {
        const newSet = new Set(prev.selectedIds);
        if (newSet.has(id)) {
          newSet.delete(id);
        } else {
          newSet.add(id);
        }
        return {
          selectedIds: newSet,
          lastSelectedId: id,
        };
      });
    },
    
    selectRange: (id) => {
      // Selecciona todas las fixtures entre lastSelectedId y id
      // Basado en posiciÃ³n en el mapa o Ã­ndice en array
      setState(prev => {
        if (!prev.lastSelectedId) {
          return { selectedIds: new Set([id]), lastSelectedId: id };
        }
        
        const startIdx = fixtures.findIndex(f => f.id === prev.lastSelectedId);
        const endIdx = fixtures.findIndex(f => f.id === id);
        const [from, to] = startIdx < endIdx ? [startIdx, endIdx] : [endIdx, startIdx];
        
        const rangeIds = fixtures.slice(from, to + 1).map(f => f.id);
        return {
          selectedIds: new Set([...prev.selectedIds, ...rangeIds]),
          lastSelectedId: id,
        };
      });
    },
    
    selectAll: () => {
      setState({
        selectedIds: new Set(fixtures.map(f => f.id)),
        lastSelectedId: null,
      });
    },
    
    clearSelection: () => {
      setState({
        selectedIds: new Set(),
        lastSelectedId: null,
      });
    },
  };
  
  return [state, actions];
}
```

### C. Batch Addressing

```tsx
// utils/batchAddressing.ts

interface BatchAddressConfig {
  startAddress: number;
  step: number;  // Incremento entre fixtures
  universe: number;
}

/**
 * Genera addresses secuenciales para un grupo de fixtures
 * Ejemplo: start=1, step=10 â†’ [1, 11, 21, 31...]
 */
export function generateBatchAddresses(
  fixtureIds: string[],
  config: BatchAddressConfig,
  fixtures: Fixture[]
): Map<string, Partial<Fixture>> {
  const updates = new Map<string, Partial<Fixture>>();
  
  fixtureIds.forEach((id, index) => {
    const address = config.startAddress + (index * config.step);
    
    // Validar rango 1-512
    if (address >= 1 && address <= 512) {
      updates.set(id, {
        address,
        universe: config.universe,
      });
    }
  });
  
  return updates;
}
```

---

## 8. ğŸ”§ INTEGRACIÃ“N HAL

### Flash Injection Protocol

```tsx
// hooks/useDMXInjector.ts

interface DMXInjectorConfig {
  // Valores de flash por defecto
  defaultFlashValues: {
    dimmer: 255,
    shutter: 255,  // Open
    colorR: 255,
    colorG: 0,
    colorB: 255,   // Magenta
  },
  
  // Safety
  maxFlashDuration: 5000,  // ms
  
  // Channel mapping (genÃ©rico, puede variar por profile)
  channelMap: {
    dimmer: 0,    // Offset desde address base
    shutter: 1,
    colorR: 2,
    colorG: 3,
    colorB: 4,
  },
}

export function useDMXInjector() {
  const { injectHighPriorityFrame, clearHighPriorityFrame } = useHAL();
  const [isFlashing, setIsFlashing] = useState(false);
  const flashTimeoutRef = useRef<NodeJS.Timeout>();
  
  const flash = useCallback((fixture: Fixture) => {
    // Construir frame DMX
    const frame: DMXFrame = {};
    const baseAddr = fixture.address;
    
    // Mapear valores segÃºn el profile de la fixture
    const profile = fixture.channelMode;
    if (profile?.dimmerChannel !== undefined) {
      frame[baseAddr + profile.dimmerChannel] = 255;
    }
    if (profile?.shutterChannel !== undefined) {
      frame[baseAddr + profile.shutterChannel] = 255;
    }
    // ... mÃ¡s canales segÃºn profile
    
    // Inyectar con alta prioridad
    injectHighPriorityFrame(frame);
    setIsFlashing(true);
    
    // Safety timeout
    flashTimeoutRef.current = setTimeout(() => {
      release(fixture);
    }, 5000);
  }, []);
  
  const release = useCallback((fixture: Fixture) => {
    clearHighPriorityFrame();
    setIsFlashing(false);
    if (flashTimeoutRef.current) {
      clearTimeout(flashTimeoutRef.current);
    }
  }, []);
  
  return { flash, release, isFlashing };
}
```

---

## 9. ğŸ“‹ PLAN DE IMPLEMENTACIÃ“N

### Fases

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PHASE 1: FOUNDATION (2-3 dÃ­as)                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â–¡ Migrar estilos inline a VisualPatcher.css                                 â”‚
â”‚ â–¡ Implementar estructura de archivos propuesta                              â”‚
â”‚ â–¡ Crear hooks: useCollisionEngine, useSelectionManager                      â”‚
â”‚ â–¡ Refactorizar Canvas con FixtureRenderer.ts                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PHASE 2: CORE FEATURES (3-4 dÃ­as)                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â–¡ Multi-selecciÃ³n (Ctrl+Click, Shift+Click)                                 â”‚
â”‚ â–¡ Inspector Panel completo con DMXMatrixInput                               â”‚
â”‚ â–¡ Collision warnings visuales                                               â”‚
â”‚ â–¡ Profile selector dropdown                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PHASE 3: UNIVERSE BAR (1-2 dÃ­as)                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â–¡ Implementar UniverseBar.tsx                                               â”‚
â”‚ â–¡ VisualizaciÃ³n de ocupaciÃ³n de canales                                     â”‚
â”‚ â–¡ Click-to-select desde la barra                                            â”‚
â”‚ â–¡ Multi-universe tabs                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PHASE 4: HAL INTEGRATION (2-3 dÃ­as)                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â–¡ Crear useDMXInjector.ts                                                   â”‚
â”‚ â–¡ Implementar Flash/Locate REAL via HAL                                     â”‚
â”‚ â–¡ Test con hardware fÃ­sico                                                  â”‚
â”‚ â–¡ Safety timeouts y error handling                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PHASE 5: POLISH (1-2 dÃ­as)                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â–¡ Tooltips y hover effects                                                  â”‚
â”‚ â–¡ Keyboard shortcuts (Ctrl+A, Delete, Arrow keys)                           â”‚
â”‚ â–¡ Batch addressing UI                                                       â”‚
â”‚ â–¡ Responsive adaptations                                                    â”‚
â”‚ â–¡ Performance optimization (requestAnimationFrame, debounce)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Timeline Estimado

| Fase | DÃ­as | Prioridad |
|------|------|-----------|
| Phase 1: Foundation | 2-3 | ğŸ”´ CRÃTICO |
| Phase 2: Core Features | 3-4 | ğŸ”´ CRÃTICO |
| Phase 3: Universe Bar | 1-2 | ğŸŸ¡ ALTO |
| Phase 4: HAL Integration | 2-3 | ğŸ”´ CRÃTICO |
| Phase 5: Polish | 1-2 | ğŸŸ¢ MEDIO |
| **TOTAL** | **9-14 dÃ­as** | - |

---

## ğŸ”¥ CONCLUSIÃ“N

El Visual Patcher actual es **funcional pero primitivo**. Esta transformaciÃ³n lo convierte en **THE DMX NEXUS**: una herramienta de parcheo visual, tÃ¡ctica y con feedback fÃ­sico real.

**Lo que ganamos:**
- âœ… Multi-selecciÃ³n para batch operations
- âœ… Universe Bar para visualizar espacio libre
- âœ… Flash REAL via HAL (no mÃ¡s console.log)
- âœ… Consistencia visual con el Design System LuxSync
- âœ… Colisiones detectadas en tiempo real con feedback visual
- âœ… Profiles swappables

**El mantra final:**

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                               â•‘
â•‘   "SELECT VISUAL â†’ CONFIRM PHYSICAL â†’ ASSIGN DIGITAL"        â•‘
â•‘                                                               â•‘
â•‘   Tres pasos. Cero errores. MÃ¡xima confianza.                 â•‘
â•‘                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

**Firmado:** PunkOpus ğŸ¸  
**Wave:** 1211  
**Status:** BLUEPRINT READY FOR ARCHITECT REVIEW

---

*"El cÃ³digo debe ser limpio, elegante, eficiente y sostenible."* â€” Axioma Perfection First
